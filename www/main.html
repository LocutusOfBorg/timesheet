<!DOCTYPE html>
<html>
  <head>
    <title>Bootstrap 101 Template</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Bootstrap -->
    <link href="/static/css/bootstrap.min.css" rel="stylesheet" media="screen">
    <link rel='stylesheet' type='text/css' href='/static/css/fullcalendar.css' />
    <link rel='stylesheet' type='text/css' href='/static/css/redmond/jquery-ui-1.10.3.custom.min.css' />
<style type="text/css">

</style>
  </head>
  <body>
<div class="row">
<div class="col-lg-12"><h2>Timesheet</h2></div>
</div>
<div class="row">
    <div class="col-lg-2">
<ul class="nav nav-pills nav-stacked">
  <li>
    <a href="#">
      <span class="badge pull-right">5</span>
      Notifiche
    </a>
  </li>
  <li class="active">
    <a href="#">
      Consuntivazione
    </a>
  </li>
  <li>
    <a href="#">
      Trasferte
    </a>
  </li>
<li>
    <a href="#">
      Note spese
    </a>
  </li>
<li><hr></li>
 <li class="dropdown">
    <a href="#" data-toggle="dropdown" role="button">Report<b class="caret"></b></a>
	<ul aria-labelledby="drop4" role="menu" class="dropdown-menu" id="menu1">
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Per utente</a></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Per commessa</a></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Per cliente</a></li>
            <li class="divider" role="presentation"></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Totale mese</a></li>
          </ul>
    </a>
  </li>
  <li class="dropdown">
    <a href="#" data-toggle="dropdown" role="button">Clienti<b class="caret"></b></a>
	<ul aria-labelledby="drop4" role="menu" class="dropdown-menu" id="menu1">
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Aggiungi</a></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Elimina</a></li>
            <li class="divider" role="presentation"></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Elenco</a></li>
          </ul>
    </a>
  </li>
  <li>
    <a href="#">
      Commesse
    </a>
  </li>

  <li class="dropdown">
    <a href="#" data-toggle="dropdown" role="button">Fatture<b class="caret"></b></a>
	<ul aria-labelledby="drop4" role="menu" class="dropdown-menu" id="menu1">
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Crea Nuova</a></li>
            <li role="presentation"><a href="#" tabindex="-1" role="menuitem">Visualizza esistenti</a></li>
          </ul>
    </a>
  </li>


</ul>




</div>
  <div class="col-lg-9">

<div id="calendar">
</div>
</div>
<!--  <div class="col-lg-2"><h4>right</h4>

<div id="daydetails"></div>
</div>-->
</div>
  <div class="modal fade" id="edithours">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
        <h4 class="modal-title">Modal title</h4>
      </div>
      <div class="modal-body">
	<form class="form-horizontal">
	  <div class="form-group">
	    <label for="inputEmail2" class="col-lg-2 control-label">Commessa</label>
	    <div class="col-lg-10">
	<select class="form-control" id="cmbcommessa">
	  <option>COMMESSA1</option>
	  <option>COMMESSA2</option>
	  <option>COMMESSA3</option>
	  <option>COMMESSA4</option>
	</select>
	    </div>
	  </div>
	  <div class="form-group">
	    <label for="inputPassword2" class="col-lg-2 control-label">Luogo</label>
	    <div class="col-lg-10">
	<select class="form-control">
	  <option>Sede</option>
	  <option>Trasferta</option>
	</select>
	    </div>
	  </div>

	  <div class="form-group">
	    <label for="inputPassword2" class="col-lg-2 control-label">Ore</label>
	    <div class="col-lg-10">
		<div id="slider-range-min"></div>
	    </div>
	  </div>
	 <div class="form-group">
<label for="inputPassword2" class="col-lg-2 control-label"></label>
	    <div class="col-lg-10">
	      <input type="text" class="form-control" id="amount" placeholder="1">
	    </div>
	  </div>

	  <div class="form-group">
	    <label for="inputPassword2" class="col-lg-2 control-label">Straordinario</label>
	    <div class="col-lg-10">
	      <input type="checkbox" value="">
	    </div>
	  </div>


	  <div class="form-group">
	    <label for="inputPassword2" class="col-lg-2 control-label">Note</label>
	    <div class="col-lg-10">
	      <input type="text" class="form-control" id="inputPassword2" placeholder="Eventuali note">
	    </div>
	  </div>

	</form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-primary" id="saveevent">Salva</button>
        <button type="button" class="btn btn-default" data-dismiss="modal">Annulla</button>

      </div>
    </div><!-- /.modal-content -->
  </div><!-- /.modal-dialog -->
</div><!-- /.modal -->
  

    <!-- JavaScript plugins (requires jQuery) -->
    <script src="/static/js/jquery-1.10.2.js"></script>
    <script src="/static/js/jquery-ui-1.10.3.custom.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="/static/js/bootstrap.min.js"></script>
    <script src="/static/js/fullcalendar.min.js"></script>
    <!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) 
    <script src="/static/js/respond.js"></script> -->
<script type="text/javascript">

$(document).ready( function() {

 $( "#slider-range-min" ).slider({
range: "min",
min: 1,
max: 8,
value: 1,
slide: function( event, ui ) {
$( "#amount" ).val( ui.value );
}
});
$( "#amount" ).val( $( "#slider-range-min" ).slider( "value" ) );

});


var datestart, dateend;
var calendar = $('#calendar').fullCalendar({
        // put your options and callbacks here
	dayClick: function(date, allDay, jsEvent, view) {
	if (allDay) {
            $("#daydetails").html(date);
        }else{
            alert('Clicked on the slot: ' + date);
        }

	},
	firstDay:1,
	weekNumbers:true,
	dayNamesShort: ['Dom', 'Lun', 'Mar', 'Mer', 'Gio', 'Ven', 'Sab'],
	selectable:true,
	select: function(start, end, allDay) {

		datestart = start;
		dateend = end;
		$('#edithours').modal('show');
		},
	});
$("#saveevent").click(function () {
	var title = $("#cmbcommessa").val();
	addCalEvent(datestart, dateend, title, true);
	$('#edithours').modal('hide');
});
function addCalEvent(start, end, title, allDay) {
		var diffdays = end.getDate() - start.getDate();
		for(i = 0; i <= diffdays; i++) {
			if ( start.getDay() == 6 || start.getDay() == 0 ) {
				start = new Date(start);
				start.setDate(start.getDate()+1);
				continue;
			}
			$("#calendar").fullCalendar('renderEvent',
			{
				id:i,
				title: title,
				start: start,
				end: start,
				allDay: allDay
			},
			true // make the event "stick"
			);
			start = new Date(start);
			start.setDate(start.getDate()+1);
			
		}
		calendar.fullCalendar('unselect');

}
</script>
  </body>
</html>

