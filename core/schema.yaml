
customer:
  type: object
  additionalProperties: False
  properties: 
    name: 
      type: string
      minLength: 1
    description:
      type: string
    address:
      type: string
    city:
      type: string
    postal_code:
      type: string
    country:
      type: string
    website:
      type: string
    email:
      type: string
      format: email
    phone:
      type: string
    contact_person:
      type: string
    vat_number:
      type: string

user:
  type: object
  additionalProperties: False
  properties: 
    name: 
      type: string
      minLength: 1
    surname:
      type: string
      minLength: 1
    username:
      type: string
      minLength: 1
    email:
      type: string
      format: email
    phone:
      type: string
    mobile:
      type: string
    city:
      type: string
    group:
      type: string
      enum:
        - administrator
        - employee
        - project manager
    password: 
      type: string
      minLength: 1
    salt: 
      type: string
    salary:
      type: array
      items:
        additionalProperties: False
        properties:
          cost:
            type: number
          from:
            type: string
          to:
            type: string

project:
  type: object
  additionalProperties: False
  properties:
    customer:
      type: string
      minLength: 1
    type:
      type: string
    name: 
      type: string
      minLength: 1
    description:
      type: string
    contact_person:
      type: string
    bkgcolor:
      type: string
    txtcolor:
      type: string
    start:
      type: string
      format: date
    end:
      type: string
      format: date
    tasks:
      type: array
      items:
        properties:
          name:
            type: integer
    grand_total:
      type: number
      optional: True
    expences:
      type: number
      optional: True
    responsible:
      type: object
      additionalProperties: False
      properties:
        _id:
          type: string
        name:
          type: string
    employees:
      type: array
      items:
        optional: True
        additionalProperties: False
        properties:
          _id:
            type: string
          name:
            type: string

trip:
  type: object
  additionalProperties: False
  properties:
    user:
      type: string
    project:
      type: string
    description:
      type: string
    status: 
      type: string   
    start:
      type: string
      format: date
    end:
      type: string
      format: date
    country:
      type: string
    city:
      type: string
    accommodation:
      type: object
      additionalProperties: False
      properties:
        car:
           type: boolean
        hotel:
           type: boolean
        airplane:
           type: boolean

day:
  type: object
  additionalProperties: False
  properties:
    date:
      type: string
      format: date
    users:
      optional: True
      type: array
      items:
        properties:
          user_id:
            type: string
          hours:
            optional: True
            type: array
            items: 
              properties:
                project:
                  type: string
                amount:
                  type: number
                isextra:
                  type: boolean
                note:
                  optional: True
                  type: string
                task:
                  type: integer
              
offer:
  type: object
  additionalProperties: False
  properties:
    project:
      type: string
    name:
      type: string
    description:
      type: string
    amount:
      type: number
    expences:
      type: boolean
    paydelay:
      type: integer
    customerref:
      type: string
    upload_ids:
      optional: True
      type: array
      items:
        type: string
      
upload:
  type: object
  additionalProperties: False
  properties:
    name:
      type: string
    content_type:
      type: string
    uploader:
      type: string
    time:
      type: date-time


